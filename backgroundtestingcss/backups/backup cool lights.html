<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modrinth Style Background - Single File</title>
    
    <style>
        /* Basic Reset and Setup */
        body {
            margin: 0;
            overflow-x: hidden; /* Prevents horizontal scrollbar */
            background-color: #000; /* Ensures a true black background */
            font-family: sans-serif;
            color: white; /* Ensures your text is readable */
        }

        /* 1. Canvas Styling - The animated grid layer */
        #gridBackground {
            position: fixed; /* Keep it fixed in the viewport */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2; /* Place it behind all other layers */
        }

        /* 2. Dark Fade Overlay - The gradient effect */
        .fade-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Place it over the canvas, but behind content */
            pointer-events: none; /* Allows mouse interaction to pass through to content */
            
            /* Create the dark fade effect */
            background: linear-gradient(
                to bottom,
                rgba(0, 0, 0, 0) 50%,     /* Transparent until halfway down */
                rgba(0, 0, 0, 0.8) 80%,   /* Starts fading to black */
                rgba(0, 0, 0, 1) 100%     /* Solid black at the bottom */
            );
        }

        /* 3. Content Layer Styling */
        .content {
            position: relative; /* Needs to be positioned above the fixed background layers */
            z-index: 1;
            min-height: 200vh; /* Example: make the content longer than the screen */
            padding: 50px;
            text-align: center;
        }
    </style>
</head>
<body>

    <canvas id="gridBackground"></canvas>
    <div class="fade-overlay"></div>
    <div class="content">
        <h1>Modrinth Style Background</h1>
        <p>This content is layered over the dynamic, 3D perspective background.</p>
        <p>This code is fully contained in a single HTML file!</p>
        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <p>End of scrollable content.</p>
    </div>

    <script>
        const canvas = document.getElementById('gridBackground');
        const ctx = canvas.getContext('2d');

        // --- Configuration ---
        const gridColor = 'rgba(0, 255, 255, 0.1)'; // Lines color (Cyan/Blue, low opacity)
        const density = 25; // How many vertical lines to draw
        let speed = 0.05; // Speed of the forward motion

        let width, height;
        let lines = [];

        // Handle resizing and initial setup
        function resizeCanvas() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;

            // Initialize lines for the vertical grid
            lines = [];
            for (let i = 0; i < density; i++) {
                lines.push({
                    // Random Z position to spread them out at the start
                    z: Math.random() * 200, 
                    // X offset for line positioning
                    xOffset: (i - density / 2) * (width / density / 2)
                });
            }
        }

        // The main animation loop
        function draw() {
            ctx.clearRect(0, 0, width, height); // Clear the frame

            // Center point for perspective (the horizon)
            const horizonY = height * 0.45;
            
            // --- Draw Horizontal Lines (Depth) ---
            for (let d = 0; d < 100; d += 1) {
                // Z value, animated by time to look like it's passing
                let z = d * 4 + (Date.now() * speed) % 4; 

                // Perspective calculation: farther objects (high Z) are closer to horizonY
                let y = horizonY + (height * 10) / z;

                if (y > height) continue;
                
                // Fade the lines out as they go into the distance (closer to the horizon)
                let alpha = 1 - (z / (100 * 4)); 
                ctx.strokeStyle = `rgba(0, 255, 255, ${alpha * 0.2})`;

                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
            
            // --- Draw Vertical Lines (The Maze Walls) ---
            for (let i = 0; i < density; i++) {
                const line = lines[i];
                
                // Move the line closer (simulating camera movement)
                line.z -= speed * 0.5; 
                
                // If the line has passed, reset it to the far distance
                if (line.z < 1) {
                    line.z = 200; 
                }

                // Calculate X position using perspective
                // The * 100 is a perspective scaling factor
                let x = width / 2 + (line.xOffset) / line.z * 100;
                
                // Calculate Y position for the bottom of the screen
                let yBottom = horizonY + (height * 10) / line.z;

                // Fade lines as they get closer to the horizon (far away)
                let alpha = 1 - (line.z / 200);
                ctx.strokeStyle = `rgba(0, 255, 255, ${alpha * 0.5})`; 

                // Draw the vertical line segment
                ctx.beginPath();
                // Start from the horizonY and draw down to the calculated perspective yBottom
                ctx.moveTo(x, horizonY);
                ctx.lineTo(x, yBottom);
                ctx.stroke();
            }
            
            // Request the next frame to keep the animation running smoothly
            requestAnimationFrame(draw);
        }

        // Start the whole process
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas(); 
        draw();
    </script>
</body>
</html>